"use strict";(self.webpackChunkTurnkeySDK=self.webpackChunkTurnkeySDK||[]).push([[952],{952:(e,t,n)=>{function r(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}function i(e){return r(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}n.d(t,{hashMessage:()=>M,recoverPublicKey:()=>w});const s="2.34.0";let o=({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,a=`viem@${s}`;class c extends Error{constructor(e,t={}){const n=t.cause instanceof c?t.cause.details:t.cause?.message?t.cause.message:t.details,r=t.cause instanceof c&&t.cause.docsPath||t.docsPath,i=o?.({...t,docsPath:r});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...n?[`Details: ${n}`]:[],...a?[`Version: ${a}`]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=r,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=s}walk(e){return u(this,e)}}function u(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&void 0!==e.cause?u(e.cause,t):t?null:e}class f extends c{constructor({max:e,min:t,signed:n,size:r,value:i}){super(`Number "${i}" is not in safe ${r?`${8*r}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class l extends c{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function g(e,{size:t}){if(i(e)>t)throw new l({givenSize:i(e),maxSize:t})}function d(e,t={}){const{signed:n}=t;t.size&&g(e,{size:t.size});const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2;return r<=(1n<<8n*BigInt(i)-1n)-1n?r:r-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}class h extends c{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}function b(e,{dir:t,size:n=32}={}){return"string"==typeof e?function(e,{dir:t,size:n=32}={}){if(null===n)return e;const r=e.replace("0x","");if(r.length>2*n)throw new h({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r["right"===t?"padEnd":"padStart"](2*n,"0")}`}(e,{dir:t,size:n}):function(e,{dir:t,size:n=32}={}){if(null===n)return e;if(e.length>n)throw new h({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s="right"===t;r[s?i:n-i-1]=e[s?i:e.length-i-1]}return r}(e,{dir:t,size:n})}const z=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function y(e,t={}){return"number"==typeof e||"bigint"==typeof e?m(e,t):"string"==typeof e?v(e,t):"boolean"==typeof e?function(e,t={}){const n=`0x${Number(e)}`;return"number"==typeof t.size?(g(n,{size:t.size}),b(n,{size:t.size})):n}(e,t):p(e,t)}function p(e,t={}){let n="";for(let t=0;t<e.length;t++)n+=z[e[t]];const r=`0x${n}`;return"number"==typeof t.size?(g(r,{size:t.size}),b(r,{dir:"right",size:t.size})):r}function m(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let s;r?s=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"==typeof e&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"==typeof s&&n?-s-1n:0;if(s&&i>s||i<o){const t="bigint"==typeof e?"n":"";throw new f({max:s?`${s}${t}`:void 0,min:`${o}${t}`,signed:n,size:r,value:`${e}${t}`})}const a=`0x${(n&&i<0?(1n<<BigInt(8*r))+BigInt(i):i).toString(16)}`;return r?b(a,{size:r}):a}const $=new TextEncoder;function v(e,t={}){return p($.encode(e),t)}async function w({hash:e,signature:t}){const s=r(e)?e:y(e),{secp256k1:o}=await n.e(974).then(n.bind(n,974));return`0x${(()=>{if("object"==typeof t&&"r"in t&&"s"in t){const{r:e,s:n,v:r,yParity:i}=t,s=x(Number(i??r));return new o.Signature(d(e),d(n)).addRecoveryBit(s)}const e=r(t)?t:y(t);if(65!==i(e))throw new Error("invalid signature length");const n=x(function(e,t={}){return Number(d(e,t))}(`0x${e.slice(130)}`));return o.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(n)})().recoverPublicKey(s.substring(2)).toHex(!1)}`}function x(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw new Error("Invalid yParityOrV value")}var S=n(238);const P=new TextEncoder;const A={zero:48,nine:57,A:65,F:70,a:97,f:102};function E(e){return e>=A.zero&&e<=A.nine?e-A.zero:e>=A.A&&e<=A.F?e-(A.A-10):e>=A.a&&e<=A.f?e-(A.a-10):void 0}function B(e,t={}){let n=e;t.size&&(g(n,{size:t.size}),n=b(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let e=0,t=0;e<i;e++){const n=E(r.charCodeAt(t++)),i=E(r.charCodeAt(t++));if(void 0===n||void 0===i)throw new c(`Invalid byte sequence ("${r[t-2]}${r[t-1]}" in "${r}").`);s[e]=16*n+i}return s}const I="Ethereum Signed Message:\n";function M(e,t){return function(e,t){const n=t||"hex",i=(0,S.lY)(r(e,{strict:!1})?function(e,t={}){return"number"==typeof e||"bigint"==typeof e?function(e,t){return B(m(e,t))}(e,t):"boolean"==typeof e?function(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),"number"==typeof t.size?(g(n,{size:t.size}),b(n,{size:t.size})):n}(e,t):r(e)?B(e,t):function(e,t={}){const n=P.encode(e);return"number"==typeof t.size?(g(n,{size:t.size}),b(n,{dir:"right",size:t.size})):n}(e,t)}(e):e);return"bytes"===n?i:y(i)}(function(e){const t="string"==typeof e?v(e):"string"==typeof e.raw?e.raw:p(e.raw);return"string"==typeof(n=[v(`${I}${i(t)}`),t])[0]?function(e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}(n):function(e){let t=0;for(const n of e)t+=n.length;const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(n);var n}(e),t)}}}]);